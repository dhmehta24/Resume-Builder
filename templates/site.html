{% load static %}
<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static "resume_maker/style.css" %}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js" integrity="sha512-pdCVFUWsxl1A4g0uV6fyJ3nrnTGeWnZN2Tl/56j45UvZ1OMdm9CIbctuIHj+yBIRTUUyv6I9+OivXj4i0LPEYA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.7.570/pdf.min.js" integrity="sha512-g4FwCPWM/fZB1Eie86ZwKjOP+yBIxSBM/b2gQAiSVqCgkyvZ0XxYPDEcN2qqaKKEvK6a05+IPL1raO96RrhYDQ==" crossorigin="anonymous"></script>
    <title>Protrainy Resume Builder</title>
</head>

<body>
<div class="container my-5" id = "resume">
    <header>
        <blockquote class=" blockquote mx-4"><span class="namehead">{{ person.full_name }}</span>
    <figure class="float-right mt-4">
        <img src="{% static "resume_maker/images/wha.jpeg" %}" alt="LOGO" height="54px" width="280px">
    </figure>
    <footer class="footer">
        {{ person.dob }}
    </footer>
    </blockquote>
    <div class="d-block justify-content-left text-left ml-4">
        <h6>Phone:<span class="footerr pr-4 ml-2"> {{ person.mobile_no }}</span></h6>
        <h6>Email:<span class="footerr ml-2">{{ person.email }}</span></h6>
        <h6>Address:<span class="footerr ml-2">{{ person.address }}</span></h6>
    </div>
    </header>
    <article>
        <div class="mt-3 mx-4 d-flex flex-wrap align-items-center edu resinputt" >
            <h4 class="mx-3 text-dark">Education</h4>
            <hr class="pt-2 bg-white"/>
        </div>
        <section class="m-4 bg-light mx-4">
            <table class=" table table-borderless d-flex flex-column flex-wrap" style="max-width: -webkit-fill-available;">
                <thead >
                <tr class=" row d-flex flex-wrap justify-content-between">
                    <th scope="col">Degree</th>
                    <th scope="col">Board</th>
                    <th scope="col">Start Year</th>
                    <th scope="col">End Year</th>
                    <th scope="col">Institute</th>
                    <th scope="col">Score</th>
                </tr>
                </thead>
                <tbody>
                {%  for i in education %}
                <tr class="row d-flex flex-wrap justify-content-between">
                    <td>{{ i.qualification }}</td>
                    <td>{{ i.board }}</td>
                    <td>{{ i.start_yr }}</td>
                    <td>{{ i.end_yr }}</td>
                    <td>{{ i.institution }}</td>
                    <td>{{ i.cgpa }}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </section>
        <div class="mt-3 mx-4 d-flex flex-wrap align-items-center edu resinputt" >
            <h4 class="mx-3 text-dark">Work Experiance</h4>
            <hr class="pt-2 bg-white"/>
        </div>
        {% for j in exp %}
        <section class="m-4 bg-light work ">
            <div class="d-flex">
                <p class="font-weight-bold">{{ j.role }}:</p> at <p class="font-weight-bold mx-3">{{ j.company }}</p>
                <p class = "font-weight-normal">{{ j.join_dt }}</p> - <p class = "font-weight-normal">{{ j.left_dt }}</p>
            </div>
            <div class="d-flex">
                <!--<p class="font-weight-bold">Description:</p>-->
                <p class="font-weight-normal mx-3">{{ j.details }}</p>

            </div>
        </section>
        {% endfor %}
        <!--<section>
            <div class="mt-3 mx-4 d-flex flex-wrap align-items-center edu resinputt" >
            <h4 class="mx-3 text-dark">Position And Responsibility Head</h4>
            <hr class="pt-2 bg-white"/>
        </div>
            <table class="table m-4 pr-4 bg-light" style="max-width: -webkit-fill-available;">
                <thead>
                <tr>

                    <th scope="col">First</th>
                    <th scope="col">Last</th>
                    <th scope="col">Handle</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th scope="row">1</th>
                    <td>Mark</td>
                    <td>Otto</td>

                </tr>

                </tbody>
            </table>
        </section>-->
        <section>
            <div class="mt-3 mx-4 d-flex flex-wrap align-items-center edu resinputt" >
            <h4 class="mx-3 text-dark">Skills</h4>
            <hr class="pt-2 bg-white"/>
                <div class = "d-flex">
                    {% for k in skill %}
                        <p class="font-weight-bold">{{ k.skill }}:</p>
                    {% endfor %}
                </div>
        </div>
        </section>
        <section>
            <div class="mt-3 mx-4 d-flex flex-wrap align-items-center edu resinputt" >
            <h4 class="mx-3 text-dark">Projects/Industrial Training/Certifications</h4>
            <hr class="pt-2 bg-white"/>
                <div class = "d-flex">
                    {% for l in prjct %}
                        <p class="font-weight-bold">{{ l.project }}:</p><p class = "font-weight-normal">{{ l.start_dt }} - {{ l.end_dt }}</p>
                        <p class = "font-weight-light">{{ l.project_link }}</p>
                    {% endfor %}
                </div>
        </div>
        </section>
        <!-- ////////// -->
        <section>
           <div class="mt-3 mx-4 d-flex flex-wrap align-items-center edu resinputt" >
            <h4 class="mx-3 text-dark">Academic Achievents And Awards</h4>
            <hr class="pt-2 bg-white"/>
               <div class = "d-flex">
                   {% for m in ach %}
                        <p class="font-weight-bold">{{ m.ach }}:</p>
                   {% endfor %}
               </div>
        </div>
        </section>
        <!-- ///// -->
        <!--<section>
            <div class="mt-3 mx-4 d-flex flex-wrap align-items-center edu resinputt" >
            <h4 class="mx-3 text-dark">Extra-Curricular Activaties And Achievents</h4>
            <hr class="pt-2 bg-white"/>
        </div>
        </section>-->
    </article>
</div>

<div class = "container text-center">
    <button class = "btn btn-success ml-5" onclick="generatePDF()">Get PDF</button>
</div>

        <script>
            function generatePDF() {
        // Choose the element that our invoice is rendered in.
        const element = document.getElementById("resume");
        // Choose the element and save the PDF for our user.
        params = {
            margin:1,
            filename: '{{ person.first_name }}-{{ person.last_name }}-resume.pdf',
            image: { type: 'png', quality: 1},
            jsPDF:        { format: 'a4' }
        }
        html2pdf().from(element).set(params).save();
        //window.open('/web/viewer.html?file=%2F{#  #} person.first_name }}-{#  #} person.last_name }}-resume.pdf','_blank');
        }
        </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
            integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
            integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
            crossorigin="anonymous"></script>
    </body>

</html>